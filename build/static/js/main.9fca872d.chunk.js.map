{"version":3,"sources":["components/PersonForm.js","components/Filter.js","components/Person.js","components/Persons.js","services/personsService.js","components/Notification.js","App.js","index.js"],"names":["PersonForm","_ref","addName","newName","handleNameChange","newNumber","handleNumberChange","react_default","a","createElement","onSubmit","value","onChange","type","Filter","condition","handleCondition","Person","person","removeData","name","number","onClick","Persons","persons","personsToShow","filter","toUpperCase","includes","map","components_Person","key","id","baseUrl","personsService","axios","get","then","response","data","newObject","post","put","delete","Notification","notification","success","className","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setCondition","_useState9","_useState10","setNotification","_useState11","_useState12","setSuccess","useEffect","initialPersons","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","nameObject","window","confirm","find","n","returnedPerson","setTimeout","catch","error","concat","components_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.9fca872d.chunk.js","sourcesContent":["import React from 'react'\n\nconst PersonForm = ({addName, newName, handleNameChange, newNumber, handleNumberChange}) => {\n    return(\n      <form onSubmit={addName}>\n        <div>\n          nimi: <input value={newName} onChange={handleNameChange}/>\n        </div>\n        <div>\n          numero: <input value={newNumber} onChange={handleNumberChange}/>\n        </div>\n        <div>\n          <button type=\"submit\">lisää</button>\n        </div>\n      </form>\n    )\n  }\n\nexport default PersonForm","import React from 'react'\n\nconst Filter = ({condition, handleCondition}) => {\n    return(\n      <form>\n        <div>\n          rajaa näytettäviä <input value={condition} onChange={handleCondition}/>\n        </div>\n      </form>\n    )\n  }\n\nexport default Filter","import React from 'react'\n\nconst Person = ({person, removeData}) => {\n\n    return (\n        <p>\n          {person.name} {person.number} <button onClick={removeData}>poista</button>\n        </p>\n    )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({persons, condition, removeData}) => {\n    const personsToShow = persons.filter(person => !condition || (condition && person.name.toUpperCase().includes(condition.toUpperCase())))\n  \n    return (\n      <div>\n          {personsToShow.map(person =>\n          <Person \n            key={person.id}\n            person={person}\n            removeData = {() => removeData(person.id, person.name)} \n          />)}\n      </div>\n    )\n  }\n\nexport default Persons","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(baseUrl + '/' + id, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(baseUrl + '/' + id)\n    return request.then(response => response.data)\n}\n\nexport default {getAll, create, update, remove}","import React from 'react'\n\nconst Notification = ({notification, success}) => {\n\n    if (notification !== null && success) {\n        return(\n            <div className=\"success\">\n                {notification}\n            </div>\n        )\n    } else if (notification !== null && !success) {\n        return(\n            <div className='error_notification'>\n                {notification}\n            </div>\n        )\n    } else {\n        return null\n    }\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport personsService from './services/personsService'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ condition, setCondition] = useState('')\n  const [notification, setNotification] = useState(null)\n  const [success, setSuccess] = useState(true)\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addName = (event) => {\n    event.preventDefault()\n    const nameObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (persons.map((person) => person.name).includes(newName)) {\n      if (window.confirm(newName + ' on jo luettelossa, korvataanko vanha numero uudella?')) {\n        const id = persons.find(n => n.name === newName).id\n        personsService\n          .update(id, nameObject)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n\n            setNotification('Muutettiin henkilön ' + nameObject.name + ' numeroa')\n            setSuccess(true)\n\n            setTimeout(() => {\n              setNotification(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setPersons(persons.filter(person => person.name !== newName))\n            \n            setNotification('Henkilö ' + newName + ' on jo poistettu palvelimelta')\n            setSuccess(false)\n\n            setTimeout(() => {\n              setNotification(null)\n            }, 5000)\n          })\n      }\n    } else {\n      personsService\n        .create(nameObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n\n          setNotification('Lisättiin henkilö ' + newName)\n          setSuccess(true)\n  \n          setNewName('')\n          setNewNumber('')\n  \n          setTimeout(() => {          \n            setNotification(null)\n            setSuccess(true)  \n          }, 5000)  \n\n          setNewName('')\n          setNewNumber('')\n        }) \n        .catch(error => {\n          setNotification(error.response.data.error)\n          setSuccess(false)\n\n          setTimeout(() => {\n            setNotification(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const removeData = (id, name) => {\n    if (window.confirm('Poistetaanko ' + name)) {\n      personsService\n        .remove(id)\n\n      setPersons(persons.filter(person => person.id !== id))\n\n      setNotification('Poistettiin henkilö ' + name + ' onnistuneesti')\n      setSuccess(true)\n\n      setTimeout(() => {\n        setNotification(null)\n      }, 5000)\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleCondition = (event) => {\n    setCondition(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      <Notification notification={notification} success={success} />\n      <Filter condition={condition} handleCondition={handleCondition}/>\n      <h2>Lisää uusi</h2>\n      <PersonForm addName={addName} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h2>Numerot</h2>\n      <div>\n        <ul>\n          <Persons persons={persons} condition={condition} removeData={removeData}/>\n        </ul>\n      </div>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}